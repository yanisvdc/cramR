% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/averaged_cram.R
\name{averaged_cram}
\alias{averaged_cram}
\title{Averaged CRAM with Permutations}
\usage{
averaged_cram(
  X,
  D,
  Y,
  batch,
  model_type,
  learner_type = NULL,
  alpha = 0.05,
  baseline_policy = NULL,
  parallelize_batch = FALSE,
  model_params = NULL,
  custom_fit = NULL,
  custom_predict = NULL,
  num_permutations = 10
)
}
\arguments{
\item{X}{A matrix or data frame of covariates.}

\item{D}{A binary vector of treatment indicators (0 or 1).}

\item{Y}{A vector of outcomes.}

\item{batch}{Number of batches for CRAM or batch indices.}

\item{model_type}{Type of model for CRAM ("causal_forest", "s_learner", "m_learner").}

\item{learner_type}{Type of learner ("ridge", "fnn", or NULL).}

\item{alpha}{Confidence level for performance estimation.}

\item{baseline_policy}{Baseline policy vector.}

\item{parallelize_batch}{Boolean to parallelize batch processing.}

\item{model_params}{Additional parameters for the model.}

\item{custom_fit}{A custom function for fitting models. Defaults to \code{NULL}.
If provided, it should accept the same arguments as \code{fit_model}.}

\item{custom_predict}{A custom function for making predictions. Defaults to \code{NULL}.
If provided, it should accept the same arguments as \code{model_predict}.}

\item{num_permutations}{Number of random permutations of batches.}
}
\value{
A list with averaged performance and variance estimates.
}
\description{
This function implements Averaged CRAM by randomly permuting batches and averaging performance results.
}
\examples{
X <- matrix(rnorm(1000), nrow = 100, ncol = 10)
D <- sample(0:1, 100, replace = TRUE)
Y <- rnorm(100)
avg_cram_results <- averaged_cram(X, D, Y,
                                  batch = 20,
                                  model_type = "m_learner",
                                  learner_type = "ridge")
}
