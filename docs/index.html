<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>CRAM ‚Ä¢ cramR</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="CRAM">
<meta name="description" content="Advanced Framework for Causal Policy Learning and Evaluation">
<meta property="og:description" content="Advanced Framework for Causal Policy Learning and Evaluation">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<!-- Load Inter font --><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&amp;display=swap" rel="stylesheet">
<style>
  :root {
    --primary-gradient: linear-gradient(135deg, #2c3e50, #3498db);
    --hover-shadow: 0 4px 15px rgba(0,0,0,0.2);
  }

  .navbar {
    background-color: rgba(255, 255, 255, 0.95); /* Light background with slight transparency */
    box-shadow: 0 2px 10px rgba(0,0,0,0.1); /* Optional shadow for depth */
  }

  body {
    padding-top: 80px;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  }

  h1, h2, h3, h4, h5, h6 {
    font-family: 'Inter', sans-serif;
  }

  code, pre, kbd {
    font-family: 'JetBrains Mono', monospace;
    background-color: #f5f5f5;
    padding: 0.2em 0.4em;
    border-radius: 4px;
    font-size: 90%;
  }

  pre {
    overflow-x: auto;
  }

  pre code {
    padding: 1em;
    display: block;
  }

  .navbar-brand img {
    height: 40px;
    transition: transform 0.3s ease;
  }

  .navbar-brand:hover img {
    transform: scale(1.05);
  }

  .hero-banner {
    background: var(--primary-gradient);
    padding: 6rem 1rem;
    color: white;
    text-shadow: 0 2px 4px rgba(0,0,0,0.2);
  }

  .feature-card {
    background: white;
    border-radius: 12px;
    padding: 2rem;
    margin: 1rem;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    transition: all 0.3s ease;
  }

  .feature-card:hover {
    transform: translateY(-5px);
    box-shadow: var(--hover-shadow);
  }

  /* Add hover effect to make the navbar more readable */
  .navbar:hover {
    background-color: rgba(255, 255, 255, 1); /* Fully visible on hover */
  }

  /* Add space below the navbar to prevent cutting off content */
  main {
    padding-top: 1rem;
  }
</style>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">cramR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/cram_policy_part_1.html">Introduction &amp; Cram Policy part 1</a></li>
    <li><a class="dropdown-item" href="articles/quickstart.html">Quick Start</a></li>
    <li><a class="dropdown-item" href="articles/cram_policy_part_2.html">Cram Policy part 2</a></li>
    <li><a class="dropdown-item" href="articles/cram_ml.html">Cram ML</a></li>
    <li><a class="dropdown-item" href="articles/cram_bandit.html">Cram Bandit</a></li>
    <li><a class="dropdown-item" href="articles/cram_bandit_helpers.html">Cram Bandit Helpers</a></li>
    <li><a class="dropdown-item" href="articles/cram_policy_simulation.html">Cram Policy Simulation</a></li>
    <li><a class="dropdown-item" href="articles/cram_bandit_simulation.html">Cram Bandit Simulation</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-resources" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Resources</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-resources">
<li><a class="dropdown-item" href="reference/index.html">Function Reference</a></li>
    <li><a class="dropdown-item" href="news/index.html">Release Notes</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/yanisvdc/cramR" aria-label="GitHub repository"><span class="fa fa-brands fa-github"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://www.hbs.edu/ris/Publication%20Files/2403.07031v1_a83462e0-145b-4675-99d5-9754aa65d786.pdf" aria-label="Research paper"><span class="fa fa-solid fa-file-pdf"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div align="center">
<img src="reference/figures/cram_logo.png" alt="CRAM Logo" width="350" style="margin-bottom: 1.5rem;"><p style="font-size: 1.25rem; max-width: 800px; margin: 0 auto;">
The Cram Method for Efficient Simultaneous Learning and Evaluation
</p>
</div>

<hr>
<div class="section level2">
<h2 id="id_-what-is-cram">üìö What is Cram?<a class="anchor" aria-label="anchor" href="#id_-what-is-cram"></a>
</h2>
<p><br></p>
<div class="section level5">
<h5 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h5>
<ul>
<li>üéØ <strong>Train &amp; Evaluate ML Models</strong>
</li>
<li>üîÅ <strong>Cram vs.¬†Sample-Splitting &amp; Cross-Validation</strong>
</li>
<li>üß† <strong>Typical use case: Policy Learning</strong>
</li>
<li>üåç <strong>Real-World Applications</strong>
</li>
</ul>
<p><br></p>
</div>
<div class="section level5">
<h5 id="id_-train--evaluate-ml-models">üéØ Train &amp; Evaluate ML models<a class="anchor" aria-label="anchor" href="#id_-train--evaluate-ml-models"></a>
</h5>
<p>The <strong>Cram method</strong> is an efficient approach to simultaneous learning and evaluation using a generic machine learning (ML) algorithm. In a single pass of batched data, the proposed method repeatedly trains an ML algorithm and tests its empirical performance.</p>
</div>
<div class="section level5">
<h5 id="id_-cram-vs-sample-splitting--cross-validation">üîÅ Cram vs.¬†Sample-Splitting &amp; Cross-Validation<a class="anchor" aria-label="anchor" href="#id_-cram-vs-sample-splitting--cross-validation"></a>
</h5>
<p>Because it utilizes the entire sample for both learning and evaluation, cramming is significantly more data-efficient than sample-splitting, which reserves a portion of the data purely for evaluation. Also, a key distinction from <strong>cross-validation</strong> is that Cram evaluates the <strong>final learned model</strong> directly, rather than using as a proxy the average performance of multiple fold-specific models trained on different data subsets‚Äîresulting in sharper inference and better alignment with real-world deployment.</p>
</div>
<div class="section level5">
<h5 id="id_-typical-use-case-policy-learning">üß† Typical use case: Policy Learning<a class="anchor" aria-label="anchor" href="#id_-typical-use-case-policy-learning"></a>
</h5>
<p>The Cram method naturally applies to the policy learning setting, which is a popular subfield of ML focused on learning a decision rule (also called treatment rule or policy) that assigns treatments or actions to individuals based on their features, with the goal of maximizing an expected outcome (e.g., health, profit, welfare). Cramming allows users to both learn an individualized decision rule and estimate the average outcome that would result if the learned decision rule were to be deployed to the entire population beyond the data sample.</p>
</div>
<div class="section level5">
<h5 id="id_-real-world-applications">üåç Real-World Applications<a class="anchor" aria-label="anchor" href="#id_-real-world-applications"></a>
</h5>
<p>It is particularly relevant in high-stakes applications where decisions must be both personalized and statistically reliable.</p>
<p>Common examples include:</p>
<ul>
<li>
<strong>Healthcare</strong>: determining who should receive treatment based on individual characteristics<br>
</li>
<li>
<strong>Advertising and pricing</strong>: setting optimal prices to maximize revenue<br>
</li>
<li>
<strong>Policy interventions</strong>: deciding which individuals or regions should receive targeted support to improve outcomes</li>
</ul>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="id_-key-features">üéØ Key Features<a class="anchor" aria-label="anchor" href="#id_-key-features"></a>
</h2>
<ul>
<li><p>üß† <strong>Cram Policy (<code>cram_policy</code>)</strong>: Learn and evaluate individualized binary treatment rules using Cram. Supports flexible models, including causal forests and custom learners. Common examples include whether to treat a patient, send a discount offer, or provide financial aid based on estimated benefit.</p></li>
<li><p>üìà <strong>Cram ML (<code>cram_ml</code>)</strong>: Learn and evaluate standard machine learning models using Cram. It estimates the expected loss at the population level, giving you a reliable measure of how well the final model is likely to generalize to new data. Supports flexible training via caret or custom learners, and allows evaluation with user-defined loss metrics. Ideal for classification, regression, and other predictive tasks.</p></li>
<li>
<p>üé∞ <strong>Cram Bandit (<code>cram_bandit</code>)</strong>: Perform on-policy evaluation of contextual bandit algorithms using Cram. Supports both real data and simulation environments with built-in policies.</p>
<p>For users with an ML background, it may be informative to compare with supervised learning to introduce the contextual bandit setting. In supervised learning, each data point comes with a known label. In contrast, the contextual bandit setting involves a context (feature vector), a choice among multiple actions, and a reward observed for the chosen action. Thus, the label (reward) is at first unknown and is only revealed after an action is chosen - note that the labels (rewards) associated with the non-chosen actions will remain unknown (partial feedback), which makes learning and evaluation more challenging.</p>
<p>Contextual bandits appear in applications where an online system selects actions based on context to maximize outcomes‚Äîlike showing ads or recommendations and observing user clicks or purchases. Contextual bandit algorithms aim to learn a policy that chooses the best action for each context to maximize expected reward, such as engagement (clicks) or conversion. Cram Bandit estimates how well the final learned policy would perform if deployed on the entire population, based on data collected by the same policy.</p>
</li>
</ul>
<hr>
</div>
<div class="section level2">
<h2 id="id_-documentation">üìö Documentation<a class="anchor" aria-label="anchor" href="#id_-documentation"></a>
</h2>
<ul>
<li><a href="articles/cram_policy.html">Introduction &amp; Cram Policy</a></li>
<li><a href="reference/index.html">Function Reference</a></li>
<li><a href="news/index.html">What‚Äôs New</a></li>
</ul>
<p>You can also explore additional tutorials and examples through the ‚ÄúArticles‚Äù menu in the top navigation bar of the website.</p>
<hr>
</div>
<div class="section level2">
<h2 id="id_Ô∏è-installation">üõ†Ô∏è Installation<a class="anchor" aria-label="anchor" href="#id_%EF%B8%8F-installation"></a>
</h2>
<p>To install the development version of Cram from GitHub:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Install devtools if needed</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"devtools"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Install cramR from GitHub</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"yanisvdc/cramR"</span><span class="op">)</span></span></code></pre></div>
<hr>
</div>
<div class="section level2">
<h2 id="id_-citation---contributing">üìÑ Citation &amp; ü§ù Contributing<a class="anchor" aria-label="anchor" href="#id_-citation---contributing"></a>
</h2>
<div class="section level3">
<h3 id="id_-citation">üìö Citation<a class="anchor" aria-label="anchor" href="#id_-citation"></a>
</h3>
<p>If you use Cram in your research, please cite the following papers:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bibtex"><code class="sourceCode bibtex"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="va">@techreport</span>{<span class="ot">jia2024cram</span>,</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a>  <span class="dt">title</span>        = {The Cram Method for Efficient Simultaneous Learning and Evaluation},</span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a>  <span class="dt">author</span>       = {Jia, Zeyang and Imai, Kosuke and Li, Michael Lingzhi},</span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a>  <span class="dt">institution</span>  = {Harvard Business School},</span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a>  <span class="dt">type</span>         = {Working Paper},</span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a>  <span class="dt">year</span>         = {2024},</span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a>  <span class="dt">url</span>          = {https://www.hbs.edu/ris/Publication%20Files/2403.07031v1_a83462e0-145b-4675-99d5-9754aa65d786.pdf},</span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a>  <span class="dt">note</span>         = {Accessed April 2025}</span>
<span id="cb2-9"><a href="#cb2-9" tabindex="-1"></a>}</span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="sourceCode bibtex"><code class="sourceCode bibtex"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="va">@misc</span>{<span class="ot">jia2025crammingcontextualbanditsonpolicy</span>,</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>      <span class="dt">title</span>={Cramming Contextual Bandits for On-policy Statistical Evaluation}, </span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a>      <span class="dt">author</span>={Zeyang Jia and Kosuke Imai and Michael Lingzhi Li},</span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a>      <span class="dt">year</span>={2025},</span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a>      <span class="dt">eprint</span>={2403.07031},</span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a>      <span class="dt">archivePrefix</span>={arXiv},</span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a>      <span class="dt">primaryClass</span>={cs.LG},</span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a>      <span class="dt">url</span>={https://arxiv.org/abs/2403.07031}, </span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a>}</span></code></pre></div>
<p>You can also cite the R package:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode bibtex"><code class="sourceCode bibtex"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="va">@Manual</span>{,</span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a>    <span class="dt">title</span> = {cramR: The Cram Method for Efficient Simultaneous Learning and</span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a>Evaluation},</span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a>    <span class="dt">author</span> = {Yanis Vandecasteele},</span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a>    <span class="dt">year</span> = {2025},</span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a>    <span class="dt">note</span> = {R package version 0.1.0, </span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a>https://yanisvdc.github.io/cramR},</span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a>    <span class="dt">url</span> = {https://github.com/yanisvdc/cramR},</span>
<span id="cb4-9"><a href="#cb4-9" tabindex="-1"></a>  }</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="id_-how-to-contribute">ü§ù How to Contribute<a class="anchor" aria-label="anchor" href="#id_-how-to-contribute"></a>
</h3>
<p>We welcome contributions! To contribute:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="co"># 1. Fork the repository.</span></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a><span class="co"># 2. Create a new branch</span></span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a><span class="fu">git</span> checkout <span class="at">-b</span> feature/your-feature</span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a><span class="co"># 3. Commit your changes</span></span>
<span id="cb5-7"><a href="#cb5-7" tabindex="-1"></a><span class="fu">git</span> commit <span class="at">-am</span> <span class="st">'Add some feature'</span></span>
<span id="cb5-8"><a href="#cb5-8" tabindex="-1"></a></span>
<span id="cb5-9"><a href="#cb5-9" tabindex="-1"></a><span class="co"># 4. Push to the branch</span></span>
<span id="cb5-10"><a href="#cb5-10" tabindex="-1"></a><span class="fu">git</span> push origin feature/your-feature</span>
<span id="cb5-11"><a href="#cb5-11" tabindex="-1"></a></span>
<span id="cb5-12"><a href="#cb5-12" tabindex="-1"></a><span class="co"># 5. Create a pull request.</span></span>
<span id="cb5-13"><a href="#cb5-13" tabindex="-1"></a></span>
<span id="cb5-14"><a href="#cb5-14" tabindex="-1"></a><span class="co"># 6. Open an Issue or PR at:</span></span>
<span id="cb5-15"><a href="#cb5-15" tabindex="-1"></a><span class="co"># https://github.com/yanisvdc/cramR/issues</span></span></code></pre></div>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="id_-contact">üìß Contact<a class="anchor" aria-label="anchor" href="#id_-contact"></a>
</h2>
<p>For questions or issues, please <a href="https://github.com/yanisvdc/cramR/issues" class="external-link">open an issue</a>.</p>
</div>

  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/yanisvdc/cramR/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/yanisvdc/cramR/issues" class="external-link">Report a bug</a></li>
<li><a href="https://github.com/yanisvdc/cramR" class="external-link">View Source</a></li>
<li><a href="https://www.hbs.edu/ris/Publication%20Files/2403.07031v1_a83462e0-145b-4675-99d5-9754aa65d786.pdf" class="external-link">Read Paper</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing cramR</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Yanis Vandecasteele <br><small class="roles"> Maintainer, author </small>  </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/yanisvdc/cramR" class="external-link"> <img src="https://img.shields.io/badge/View%20on-GitHub-black?logo=github" alt="View on GitHub"></a></li>
<li><a href="https://codecov.io/github/yanisvdc/cramR" class="external-link"> <img src="https://codecov.io/github/yanisvdc/cramR/graph/badge.svg?token=7MX98QJ7Y0" alt="Coverage"></a></li>
<li><a href="https://github.com/yanisvdc/cramR/issues" class="external-link"> <img src="https://img.shields.io/badge/Report%20a%20Bug-red?logo=bugatti" alt="Report a Bug"></a></li>
<li><a href="https://www.hbs.edu/ris/Publication%20Files/2403.07031v1_a83462e0-145b-4675-99d5-9754aa65d786.pdf" class="external-link"> <img src="https://img.shields.io/badge/Read%20Paper-blue?logo=bookstack" alt="Read Paper"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Yanis Vandecasteele.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
